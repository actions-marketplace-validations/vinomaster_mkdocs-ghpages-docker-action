# mkdocs-ghpages-docker-action
A GitHub Action for the deployment of static HTML pages generated by [MkDocs](https://www.mkdocs.org/) to GitHub Pages.

## Assumption
1.  MkDocs is being used to generate documentation in a collaborative development environment where *pull-requests* are being used.
2. The MkDocs development environment is configured with [WeasyPrint](https://weasyprint.org/) dependencies.
3. The desired continuous development process is for all merged pull-request events to trigger the generation of a ```mkdocs gh-deploy``` process within the upstream repo.

![remote-upstream](https://i.stack.imgur.com/cEJjT.png)

## Problem
The ```mkdocs gh-deploy``` process is used by a developer to push new documentation from the ```Local Machine``` to the ```Origin``` repo. If that origin us a ```Fork``` of an ```Upstream``` repo the developer must submit a *pull-requests* to update the code on the ```master ``` branch. Since the developer can not and should not push to the upstream ```gh-pages``` branch, a process is required perform an upstream build and deploy of GitHub Pages.

## Solution
Use a combination of [GitHub Actions](https://github.com/features/actions) and [GitHub Workflows](https://help.github.com/en/actions/configuring-and-managing-workflows) to trigger a Docker based GitHub Action to perform a remote virtual build and deploy process once a *pull-requests* is approved and merged.   

## Dependencies
* [MkDocs Image w/PDF plugin and Material Theme](https://github.com/minidocks/mkdocs)
* [GitHub Action to deploy an MkDocs site to GitHub Pages](https://github.com/marketplace/actions/deploy-mkdocs)
* [MkDocs PDF Export Plugin](https://github.com/zhaoterryy/mkdocs-pdf-export-plugin)

## Action Details

### Inputs

None

### Outputs

None

### Secrets

* [Create a PERSONAL_TOKEN](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line) as a mechanism for allowing a GitHub Action [authenticate to the upstream repo](https://help.github.com/en/actions/configuring-and-managing-workflows/authenticating-with-the-github_token).

### Environment Variables

None

### Example usage

uses: actions/mkdocs-ghpages-docker-action@master

## Acknowledgements
This GitHub Action is based on the [Deploy MkDocs Action](https://github.com/marketplace/actions/deploy-mkdocs) contributed by [Michael Hausenblas](https://github.com/mhausenblas).
